<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>VideoJS RangeSlider Plugin Demo</title>
    <!-- videojs -->
    <link rel="stylesheet" type="text/css" href="http://vjs.zencdn.net/5.8.7/video-js.css" />
    <!-- rangeslider -->
    <link rel="stylesheet" type="text/css" href="build/rangeslider.min.css" />
    <!--Demo CSS-->
    <link rel="stylesheet" type="text/css" href="style.css" />
  </head>

  <body>
    <h1 class="title">Range Slider Plugin for VideoJs</h1>

    <video id="preview-player" class="video-js vjs-default-skin" controls preload="auto" poster="http://vjs.zencdn.net/v/oceans.png">
        <source src="http://vjs.zencdn.net/v/oceans.mp4" type='video/mp4'>
        <source src="http://vjs.zencdn.net/v/oceans.webm" type='video/webm'>
        <source src="http://vjs.zencdn.net/v/oceans.ogv" type='video/ogg'>
        <p class="vjs-no-js">To view this video please enable JavaScript, and consider upgrading to a web browser that <a href="http://videojs.com/html5-video-support/" target="_blank">supports HTML5 video</a></p>
    </video>

    <script>
        
        //Example of options ={hidden:false,locked:true,panel:false}
        var options = { hidden:false }

        function initVideoJS(){
            mplayer=videojs("preview-player");
            mplayer.rangeslider(options);
        }        
         
        function playBetween(){
            var start,end;
            start = document.getElementById('Start').value;
            end = document.getElementById('End').value;
            mplayer.playBetween(start,end);
        }
        function loopBetween() {
            var start = document.getElementById('Start').value;
            var end = document.getElementById('End').value;
            mplayer.loopBetween(start, end);
        }
        function getValues(){
            var values = mplayer.getValueSlider();
            console.log(values);
            document.getElementById('Start').value=videojs.round(values.start,2);
            document.getElementById('End').value=videojs.round(values.end,2);
        }
        
        function showhide(){
            var plugin=mplayer.rangeslider.options;
            if(plugin.hidden)
                mplayer.showSlider();
            else
                mplayer.hideSlider();
        }
        function lockunlock(){
            var plugin=mplayer.rangeslider.options;
            if(plugin.locked)
                mplayer.unlockSlider();
            else
                mplayer.lockSlider();
        }
        function showhidePanel(){
            var plugin=mplayer.rangeslider.options;
            if(!plugin.panel)
                mplayer.showSliderPanel();
            else
                mplayer.hideSliderPanel();
        }
        function showhideControlTime(){
            var plugin=mplayer.rangeslider.options;
            if(!plugin.controlTime)
                mplayer.showControlTime();
            else
                mplayer.hideControlTime();
        }

        document.addEventListener("DOMContentLoaded", function(event) { 
            initVideoJS();
        });
    </script>

    <div id="fieldSelection">
        <legend>Actions</legend>
        <div class="button" onClick="showhide()">Show/Hide RS</div>
        <div class="button" onClick="lockunlock()">Lock/Unlock RS</div>
        <div class="button" onClick="showhidePanel()">show/hide Panel</div>
        <div class="button" onClick="showhideControlTime()">show/hide ControlTime</div>
    </div>
    
    <div id="fieldSelection">
        <legend>Select a section of the video</legend>
        <div class="button" onClick="playBetween()">Play Between</div>
        <div class="button" onClick="loopBetween()">Loop Between</div>
        <div class="button" onClick="getValues()">Get Arrow Values</div><br/>
        Start (seconds):<input type="text" value="2" id="Start">
        End (seconds): <input type="text" value="5" id="End">
    </div>

    <!-- videojs -->
    <script src="http://vjs.zencdn.net/5.8.7/video.js"></script>
    <!-- rangeslider -->
    <script src="../src/rangeslider.js"></script>

  </body>
</html>
